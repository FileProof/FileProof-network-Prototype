function login(){var n=JSON.stringify({hash:$("#Login").val()});$.ajax({type:"POST",url:"/Auth/Login/",contentType:"application/json",dataType:"json",processData:!1,data:n,success:function(n){n.id.length>0&&($("#curUser").val(n.id),$("#curUserNameLink").text(n.id.substr(0,7)+"..."),$("#curRoles").val(n.roles.join(",")),updatecontrols())},error:function(){alert("signing in error")}})}function updatecontrols(){var t=$("#curUser"),n;t.val()?($("#signInBtn").hide(),$("#signInBtn").removeClass("show"),$("#signInBtn").addClass("hide"),$("#loginInput").hide(),$("#loginInput").addClass("hide"),$("#loginInput").removeClass("show"),$("#curUserName").show(),$("#curUserName").addClass("show"),$("#curUserName").removeClass("hide"),$("#signOutBtn").show(),$("#signOutBtn").removeClass("hide"),$("#signOutBtn").addClass("show"),$("#validate").show(),$("#validate").addClass("show"),$("#validate").removeClass("hide"),$("#docs").show(),$("#docs").addClass("show"),$("#docs").removeClass("hide"),n=$("#curRoles").val().split(","),n.includes("Admin")?($("#reset").show(),$("#reset").addClass("show"),$("#reset").removeClass("hide")):($("#reset").hide(),$("#reset").addClass("hide"),$("#reset").removeClass("show"))):($("#signInBtn").removeClass("hide"),$("#signInBtn").addClass("show"),$("#signInBtn").show(),$("#loginInput").show(),$("#loginInput").addClass("show"),$("#loginInput").removeClass("hide"),$("#curUserName").hide(),$("#curUserName").addClass("hide"),$("#curUserName").removeClass("show"),$("#docs").hide(),$("#docs").addClass("hide"),$("#docs").removeClass("show"),$("#validate").hide(),$("#validate").addClass("hide"),$("#validate").removeClass("show"),$("#reset").hide(),$("#reset").addClass("hide"),$("#reset").removeClass("show"),$("#signOutBtn").removeClass("show"),$("#signOutBtn").addClass("hide"),$("#signOutBtn").hide())}function logout(n){$.ajax({type:"POST",url:"/Auth/Logout/",processData:!1,error:function(){alert("signing out error")}}).done(function(){$("#curUser").val("");updatecontrols();n&&window.location.replace(n)})}var ajaxFormSubmit=function(n){var t=$(this),i=new FormData(this),r={url:t.attr("action"),type:t.attr("method"),data:i,cache:!1,contentType:!1,processData:!1};return $.ajax(r).done(function(t){var i,r,u;n.data&&(i=n.data,i.callback&&typeof i.callback=="function"&&(r=i.callback,u=i.input,r(u,t)))}).fail(function(n){var i="",t=JSON.parse(n.responseText);t&&t.errorMessage!==undefined&&(i=t.errorMessage);new PNotify({type:"error",title:"Error on AJAX form submit",text:i})}),!1};